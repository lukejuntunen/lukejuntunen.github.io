"use strict";(self.webpackChunknextpod=self.webpackChunknextpod||[]).push([["src_views_Podcasts_vue"],{4108:(t,n,i)=>{i.d(n,{Z:()=>r});var e=i(7537),a=i.n(e),o=i(3645),s=i.n(o)()(a());s.push([t.id,":root{--nextpod-navigation-height: 64px;--nextpod-navigation-spacing: calc((var(--nextpod-navigation-height) - 44px) / 2)}button.app-navigation-toggle{top:0 !important;right:calc(var(--nextpod-navigation-height)*-1) !important;margin:var(--nextpod-navigation-spacing) !important}","",{version:3,sources:["webpack://./src/views/HeaderNavigation.vue"],names:[],mappings:"AACA,MACC,iCAAA,CAEA,iFAAA,CAID,6BAEC,gBAAA,CACA,0DAAA,CACA,mDAAA",sourcesContent:["\n:root {\n\t--nextpod-navigation-height: 64px;\n\t// header height - button size\n\t--nextpod-navigation-spacing: calc((var(--nextpod-navigation-height) - 44px) / 2);\n}\n\n// Properly position the navigation toggle button\nbutton.app-navigation-toggle {\n\t// App-navigation have a 4px margin top\n\ttop: 0 !important;\n\tright: calc(var(--nextpod-navigation-height) * -1) !important;\n\tmargin: var(--nextpod-navigation-spacing) !important;\n}\n\n"],sourceRoot:""}]);const r=s},2445:(t,n,i)=>{i.d(n,{Z:()=>r});var e=i(7537),a=i.n(e),o=i(3645),s=i.n(o)()(a());s.push([t.id,".nextpod-navigation[data-v-892703f4]{position:sticky;z-index:20;top:0;display:flex;align-items:center;width:100%;min-height:var(--nextpod-navigation-height);padding:0 var(--nextpod-navigation-height);background:var(--color-main-background);margin-top:10px}.nextpod-navigation__back[data-v-892703f4]{position:absolute !important;left:0;margin:var(--nextpod-navigation-spacing) !important}.nextpod-navigation__title[data-v-892703f4]{margin-right:calc(2*var(--nextpod-navigation-spacing));display:flex;flex-direction:column}.nextpod-navigation__title__main[data-v-892703f4]{margin:0;cursor:pointer}.nextpod-navigation__title__main[data-v-892703f4],.nextpod-navigation__title__sub[data-v-892703f4]{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.nextpod-navigation__loader[data-v-892703f4]{margin-left:32px}.nextpod-navigation__content-right[data-v-892703f4]{display:flex;align-items:center;justify-content:center;margin-left:auto}","",{version:3,sources:["webpack://./src/views/HeaderNavigation.vue"],names:[],mappings:"AACA,qCACC,eAAA,CACA,UAAA,CACA,KAAA,CACA,YAAA,CACA,kBAAA,CACA,UAAA,CACA,2CAAA,CACA,0CAAA,CACA,uCAAA,CACC,eAAA,CAED,2CAEC,4BAAA,CACA,MAAA,CACA,mDAAA,CAGD,4CAEC,sDAAA,CACA,YAAA,CACA,qBAAA,CAEA,kDACC,QAAA,CACA,cAAA,CAGD,mGACC,eAAA,CACA,kBAAA,CACA,sBAAA,CAIF,6CACC,gBAAA,CAGD,oDACC,YAAA,CACA,kBAAA,CACA,sBAAA,CACA,gBAAA",sourcesContent:["\n.nextpod-navigation {\n\tposition: sticky;\n\tz-index: 20;\n\ttop: 0;\n\tdisplay: flex;\n\talign-items: center;\n\twidth: 100%;\n\tmin-height: var(--nextpod-navigation-height);\n\tpadding: 0 var(--nextpod-navigation-height);\n\tbackground: var(--color-main-background);\n  margin-top: 10px;\n\n\t&__back {\n\t\t// Above the navigation menu\n\t\tposition: absolute !important;\n\t\tleft: 0;\n\t\tmargin: var(--nextpod-navigation-spacing) !important;\n\t}\n\n\t&__title {\n\t\t//max-width: 50%;\n\t\tmargin-right: calc(2 * var(--nextpod-navigation-spacing));\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\n\t\t&__main {\n\t\t\tmargin: 0;\n\t\t\tcursor: pointer;\n\t\t}\n\n\t\t&__main, &__sub {\n\t\t\toverflow: hidden;\n\t\t\twhite-space: nowrap;\n\t\t\ttext-overflow: ellipsis;\n\t\t}\n\t}\n\n\t&__loader {\n\t\tmargin-left: 32px;\n\t}\n\n\t&__content-right {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-left: auto;\n\t}\n}\n\n"],sourceRoot:""}]);const r=s},6328:(t,n,i)=>{i.d(n,{Z:()=>r});var e=i(7537),a=i.n(e),o=i(3645),s=i.n(o)()(a());s.push([t.id,".empty-content h1[data-v-19191633]{font-size:1.5rem;font-weight:500;margin:0;margin-bottom:1rem}div.podcasts[data-v-19191633]{padding:20px var(--nextpod-navigation-height) 0 var(--nextpod-navigation-height)}a.link[data-v-19191633]{text-decoration:underline;color:var(--color-primary-element)}","",{version:3,sources:["webpack://./src/views/Podcasts.vue"],names:[],mappings:"AACA,mCACE,gBAAA,CACA,eAAA,CACA,QAAA,CACA,kBAAA,CAGF,8BACE,gFAAA,CAGF,wBACE,yBAAA,CACA,kCAAA",sourcesContent:["\n.empty-content h1 {\n  font-size: 1.5rem;\n  font-weight: 500;\n  margin: 0;\n  margin-bottom: 1rem;\n}\n\ndiv.podcasts {\n  padding: 20px var(--nextpod-navigation-height) 0 var(--nextpod-navigation-height);\n}\n\na.link {\n  text-decoration: underline;\n  color: var(--color-primary-element);\n}\n"],sourceRoot:""}]);const r=s},6893:(n,i,e)=>{e.d(i,{Z:()=>b});var a=e(5961);const o={name:"HeaderNavigation",components:{NcButton:a.P2,NcLoadingIcon:a.lb},inheritAttrs:!1,props:{loading:{type:Boolean,default:!1},path:{type:String,default:"/"},title:{type:String,required:!0},rootTitle:{type:String,default:t("nextpodsyn","Podcasts")},params:{type:Object,default:null}},computed:{name(){return this.title}},methods:{refresh(){this.$emit("refresh")},toggleNavigationButton(t){const n=document.querySelector("button.app-navigation-toggle");null!==n&&(n.style.display=t?"none":null)}}};var s=e(3379),r=e.n(s),l=e(7795),A=e.n(l),c=e(569),d=e.n(c),p=e(3565),g=e.n(p),v=e(9216),u=e.n(v),h=e(4589),m=e.n(h),C=e(4108),_={};_.styleTagTransform=m(),_.setAttributes=g(),_.insert=d().bind(null,"head"),_.domAPI=A(),_.insertStyleElement=u();r()(C.Z,_);C.Z&&C.Z.locals&&C.Z.locals;var x=e(2445),f={};f.styleTagTransform=m(),f.setAttributes=g(),f.insert=d().bind(null,"head"),f.domAPI=A(),f.insertStyleElement=u();r()(x.Z,f);x.Z&&x.Z.locals&&x.Z.locals;const b=(0,e(1900).Z)(o,(function(){var t=this,n=t._self._c;return n("div",{staticClass:"nextpod-navigation",attrs:{role:"toolbar"}},[n("div",{staticClass:"nextpod-navigation__title"},[n("h2",{staticClass:"nextpod-navigation__title__main",on:{click:t.refresh}},[t._v("\n\t\t\t"+t._s(t.name)+"\n\t\t")]),t._v(" "),n("div",{staticClass:"nextpod-navigation__title__sub"}),t._v(" "),t._t("subtitle")],2),t._v(" "),t.$slots.default?n("div",{staticClass:"nextpod-navigation__content"},[t._t("default")],2):t._e(),t._v(" "),n("NcLoadingIcon",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"nextpod-navigation__loader"}),t._v(" "),n("div",{staticClass:"nextpod-navigation__content-right"},[t._t("right")],2)],1)}),[],!1,null,"892703f4",null).exports},5598:(n,i,e)=>{e.r(i),e.d(i,{default:()=>F});var a=e(3455),o=e.n(a),s=e(8266),r=e.n(s),l=e(3299),A=e.n(l),c=e(8785),d=e(5139),p=e(2945),g=e.n(p),v=e(5400),u=e.n(v),h=e(8926),m=e(9598),C=e(9753),_=e(4820),x=e(2880),f=e(6893);const b=[{label:"Listened time (desc)",compare:(t,n)=>(null==t?void 0:t.listenedSeconds)<(null==n?void 0:n.listenedSeconds)},{label:"Listened time (asc)",compare:(t,n)=>(null==t?void 0:t.listenedSeconds)>(null==n?void 0:n.listenedSeconds)}],y={name:"Podcasts",components:{HeaderNavigation:f.Z,NcEmptyContent:o(),NcMultiselect:r(),Podcast:h.Z,PageNext:m.Z,NcSettingsSection:A(),SubscriptionListItem:c.Z,ActionListItem:d.Z,NcActionButton:u(),NcActions:g()},data:()=>({subscriptions:[],isLoading:!0,sortBy:b[0],sortingOptions:b,refreshIntervalId:null}),async mounted(){await this.loadData(),this.refreshIntervalId=setInterval(this.loadData,6e4)},async beforeUnmount(){clearInterval(this.refreshIntervalId)},methods:{async loadData(){this.isLoading=!0;try{const t=await _.Z.get((0,C.generateUrl)("/apps/nextpod/personal_settings/metrics"));if(!Array.isArray(t.data.subscriptions))throw new Error("expected subscriptions array in metrics response");this.subscriptions=t.data.subscriptions,this.$emit("subscriptionsAmount",this.subscriptions.length),this.$emit("actionsAmount",t.data.actions.length),this.subscriptions.sort(this.sortBy.compare)}catch(n){console.error(n),(0,x.x2)(t("nextpod","Could not fetch podcast synchronization stats"))}finally{this.isLoading=!1}},updateSorting(t){this.subscriptions.sort(t.compare)}}};var k=e(3379),w=e.n(k),B=e(7795),Z=e.n(B),S=e(569),N=e.n(S),I=e(3565),D=e.n(I),E=e(9216),P=e.n(E),L=e(4589),z=e.n(L),T=e(6328),G={};G.styleTagTransform=z(),G.setAttributes=D(),G.insert=N().bind(null,"head"),G.domAPI=Z(),G.insertStyleElement=P();w()(T.Z,G);T.Z&&T.Z.locals&&T.Z.locals;const F=(0,e(1900).Z)(y,(function(){var t=this,n=t._self._c;return n("div",[n("HeaderNavigation",{key:"navigation",attrs:{loading:t.isLoading,title:t.t("nextpod","Subscriptions")},on:{refresh:t.loadData},scopedSlots:t._u([{key:"subtitle",fn:function(){return[t._v("\n      "+t._s(t.t("nextpod","Podcast subscriptions synchronized to this Nextcloud account so far."))+"\n    ")]},proxy:!0}])}),t._v(" "),t.subscriptions.length>0?n("div",{staticClass:"podcasts"},[n("div",{staticClass:"sorting-container"},[n("label",{attrs:{for:"nextpod_sorting"}},[t._v("Sort by:")]),t._v(" "),n("NcMultiselect",{attrs:{id:"nextpod_sorting",options:t.sortingOptions,"track-by":"label",label:"label","allow-empty":!1},on:{change:t.updateSorting},model:{value:t.sortBy,callback:function(n){t.sortBy=n},expression:"sortBy"}})],1),t._v(" "),n("ul",t._l(t.subscriptions,(function(t){return n("SubscriptionListItem",{key:t.url,attrs:{sub:t}})})),1)]):t._e(),t._v(" "),0!==t.subscriptions.length||t.isLoading?t._e():n("div",[n("NcEmptyContent",{scopedSlots:t._u([{key:"icon",fn:function(){return[n("Podcast")]},proxy:!0},{key:"title",fn:function(){return[n("h1",[t._v("No subscriptions")]),t._v("\n        Start syncing podcasts from your favorite podcast client, such as\n        "),n("a",{staticClass:"link",attrs:{href:"https://antennapod.org/",target:"_blank"}},[t._v("Antennapod")]),t._v(",\n        and then refresh this page to see them pop up here.\n      ")]},proxy:!0}],null,!1,21970206)})],1)],1)}),[],!1,null,"19191633",null).exports}}]);
//# sourceMappingURL=nextpod-src_views_Podcasts_vue.js.map?v=64203cc53250d888da3b